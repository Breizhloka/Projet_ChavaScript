<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Formulaire</title>
  <link rel="stylesheet" href="style.css">
</head>

<!--

- réussir à détecter le clic / validation du formulaire
- récupérer la valeur d'un champs à tester
- valider le test (par exemple : non vide)
- réussir à faire une fonction valable pour n'importe quel champ
- décliner pour tous les tests

-->

<body>
  <section>
    <form name="fromulaire" onsubmit="return form_ok()">
      <label for="nom">Nom</label>
      <input type="text" class="intext" name="nom" id="nom" onblur="champ_non_vide(this)" placeholder="ex : Neymar"> </br>

      <label for="prenom">Prénom</label>
      <input type="text" class="intext" name="prenom" id="prenom" onblur="champ_non_vide(this)" placeholder="ex : Jean"> </br>

      <label for="civilite">Civilité</label>
      <select class="intext" name="civilite"> </br>
        <option value="monsieur">Monsieur</option>
        <option value="madame">Madame</option>
        <option value="non-binaire">Non-binaire</option>
      </select> </br>

      <label for="phone">Numéro de téléphone</label>
      <input type="text" class="intext" name="phone" id="phone" onblur="verif_taille(this, 10);champ_non_vide(this);" placeholder=""> </br>

      <label for="adresse">Adresse</label>
      <input type="text" class="intext" name="adresse" id="adresse" onblur="champ_non_vide(this)" placeholder=""> </br>

      <label for="code">Code postal</label>
      <input type="text" class="intext" name="code" id="code" onblur="verif_taille(this, 5);champ_non_vide(this)" placeholder=""> </br>

      <label for="ville">Ville</label>
      <input type="text" class="intext" name="ville" id="ville" onblur="champ_non_vide(this)" placeholder=""> </br>

      <label for="mail">Adresse mail</label>
      <input type="text" class="intext" name="mail" id="mail" onblur="form_ok()" placeholder=""> </br>

      <input class="btn" type="submit" value="Envoyer" id="btn_submit">
    </form>

<!-- Intégration de mon Javascript -->
    <script type="text/javascript">

//fonction CHAMP NON VIDE
    function champ_non_vide(champ) {
      var champ_valide = false;
      champ_valide = (champ.value.length > 0);
      return champ_valide;
    }

//fonction VERIF TEL & CODE POSTAL (composé de 10 ou 5 caractères)
      function verif_taille(champ, taille) {
        var taille_valide = false;
        taille_valide = (champ.value.length == taille);
        return taille_valide;
      }

//mega fonction VERIF GLOBALE
    function form_ok() {
      var nom = champ_non_vide (document.getElementById('nom'));
      var prenom = champ_non_vide (document.getElementById('prenom'));
      var phone = champ_non_vide (document.getElementById('phone'));
      var adresse = champ_non_vide (document.getElementById('adresse'));
      var code = champ_non_vide (document.getElementById('code'));
      var ville = champ_non_vide (document.getElementById('ville'));
      var mail = champ_non_vide (document.getElementById('mail'));
      var taille_phone = verif_taille (document.getElementById('phone'), 10);
      var taille_code = verif_taille (document.getElementById('code'), 5);

      return nom && prenom && phone && adresse && code && ville && mail && taille_phone && taille_code;
    }

    </script>

  </section>

<!-- Intégration de la feuille de script -->
  <script type="text/javascript" src="js/script.js"></script>
</body>
</html>
